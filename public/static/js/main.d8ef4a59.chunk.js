(this["webpackJsonptraining-system"]=this["webpackJsonptraining-system"]||[]).push([[0],{358:function(e,t,n){e.exports=n(443)},363:function(e,t,n){},441:function(e,t,n){},443:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(15),o=n.n(i),l=(n(363),n(112)),c=n(477),u=n(308),s=n(468),m=n(309),d=n(90),f=n(240),g=n(347),p=n.n(g),b=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function h(){var e=b();return r.a.createElement("div",{className:e.root},r.a.createElement(s.a,{position:"static"},r.a.createElement(m.a,null,r.a.createElement(f.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(p.a,null)),r.a.createElement(d.a,{variant:"h6",className:e.title},"\u05de\u05e2\u05e8\u05db\u05ea \u05e0\u05d9\u05d4\u05d5\u05dc \u05e2\u05d5\u05d1\u05d3\u05d9\u05dd \u05d5\u05d4\u05d3\u05e8\u05db\u05d5\u05ea"))))}var v=n(98),E=n(105),w=n(202),O=n(43),j=n(190),C=n.n(j),k=n(106),y=n.n(k),T="https://trainings-backend.herokuapp.com";var N=n(32),S=n(351),x=n.n(S),D=n(355),R=n(136),I=Object(N.c)({plugins:[].concat(Object(w.a)(Object(D.a)().plugins),[x()()])});function P(e){return r.a.createElement(R.b,{jss:I},e.children)}var L=n(321),W=n(470),q=n(472),A=n(471),F=n(478),V=n(236),z=n(322),B=n(248),H=n(314);function M(e){var t,n=["\u05e0\u05d3\u05e8\u05e9","\u05dc\u05d0 \u05e0\u05d3\u05e8\u05e9"],a=["\u05d4\u05e9\u05ea\u05ea\u05e3","\u05dc\u05d0 \u05d4\u05e9\u05ea\u05ea\u05e3"],i=[{field:"name",title:"\u05e9\u05dd",editComponent:function(t){return r.a.createElement(B.a,{value:t.value||"",onChange:function(e){return t.onChange(e.target.value)}},e.trainingsList.map((function(e,t){return r.a.createElement(H.a,{key:t,value:e.name},e.name)})))}},{field:"isRequired",title:"\u05e0\u05d3\u05e8\u05e9",editComponent:function(e){return r.a.createElement(B.a,{value:e.value||"",onChange:function(t){return e.onChange(t.target.value)}},n.map((function(e,t){return r.a.createElement(H.a,{key:t,value:e},e)})))}},{field:"status",title:"\u05e1\u05d8\u05d8\u05d5\u05e1",editComponent:function(e){return r.a.createElement(B.a,{value:e.value||"",onChange:function(t){return e.onChange(t.target.value)}},a.map((function(e,t){return r.a.createElement(H.a,{key:t,value:e},e)})))}},{field:"completionDate",title:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d1\u05d9\u05e6\u05d5\u05e2",editComponent:function(e){return r.a.createElement(L.a,{type:"date",value:e.value||"",onChange:function(t){return e.onChange(t.target.value)}})}},{field:"expiryDate",title:"\u05ea\u05d0\u05e8\u05d9\u05da \u05ea\u05e4\u05d5\u05d2\u05d4",editComponent:function(e){return r.a.createElement(L.a,{type:"date",value:e.value||"",onChange:function(t){return e.onChange(t.target.value)}})}},{field:"trainerName",title:"\u05e9\u05dd \u05de\u05d3\u05e8\u05d9\u05da"}];return r.a.createElement(C.a,{title:"\u05d4\u05d3\u05e8\u05db\u05d5\u05ea",columns:i,data:e.trainings,localization:(t={pagination:{labelDisplayedRows:"{from}-{to} \u05de\u05ea\u05d5\u05da {count}"},toolbar:{nRowsSelected:"{0} \u05e9\u05d5\u05e8\u05d5\u05ea \u05e0\u05d1\u05d7\u05e8\u05d5"},header:{actions:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea"},body:{emptyDataSourceMessage:"\u05d0\u05d9\u05df \u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05dc\u05d4\u05e6\u05d2\u05d4",filterRow:{filterTooltip:"\u05e1\u05d9\u05e0\u05d5\u05df"},addTooltip:"\u05d4\u05d5\u05e1\u05e4\u05d4",deleteTooltip:"\u05de\u05d7\u05d9\u05e7\u05d4",editTooltip:"\u05e2\u05e8\u05d9\u05db\u05d4",editRow:{deleteText:"\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 \u05e9\u05d5\u05e8\u05d4 \u05d6\u05d5?",cancelTooltip:"\u05d1\u05d9\u05d8\u05d5\u05dc",saveTooltip:"\u05e9\u05de\u05d5\u05e8"}}},Object(v.a)(t,"pagination",{labelRowsSelect:"\u05e9\u05d5\u05e8\u05d5\u05ea"}),Object(v.a)(t,"toolbar",{searchTooltip:"\u05d7\u05d9\u05e4\u05d5\u05e9",searchPlaceholder:"\u05d7\u05d9\u05e4\u05d5\u05e9"}),t),editable:{onRowAdd:function(t){return new Promise((function(n){setTimeout((function(){n(),e.onTrainingAdded(t)}),600)}))},onRowUpdate:function(t,n){return new Promise((function(a){setTimeout((function(){a(),n&&e.onTrainingChange(n,t)}),600)}))},onRowDelete:function(t){return new Promise((function(n){setTimeout((function(){n(),console.log(t),e.onTrainingDeleted(t)}),600)}))}}})}var G=Object(u.a)({dialogTitle:{textAlign:"center"},workerInfoField:{width:170,marginLeft:20,direction:"rtl"},tableContainer:{marginTop:"20px"}});function J(e){var t=G(),n=Object(a.useState)(Object(E.a)({},e.worker)),i=Object(O.a)(n,2),o=i[0],l=i[1],c=function(e){var t=o;t["".concat(e.target.id)]=e.target.value,l(t)},u=function(){e.onClose()};return r.a.createElement(W.a,{onClose:u,open:e.open,maxWidth:"xl"},r.a.createElement(F.a,{className:t.dialogTitle},"\u05e4\u05e8\u05d8\u05d9 \u05e2\u05d5\u05d1\u05d3"),r.a.createElement(A.a,{dividers:!0},r.a.createElement(V.a,{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"},[{name:"workerId",label:"\u05de\u05e1\u05e4\u05e8 \u05e2\u05d5\u05d1\u05d3",required:!0,type:"number"},{name:"firstName",label:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",required:!0},{name:"lastName",label:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",required:!0},{name:"birthDate",label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4",type:"datePicker"},{name:"age",label:"\u05d2\u05d9\u05dc",type:"number"},{name:"sex",label:"\u05de\u05d9\u05df"},{name:"startDate",label:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4",type:"datePicker"},{name:"idNumber",label:"\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea"},{name:"phoneNumber",label:"\u05d8\u05dc\u05e4\u05d5\u05df"},{name:"phoneNumber2",label:"\u05d8\u05dc\u05e4\u05d5\u05df 2"},{name:"city",label:"\u05e2\u05d9\u05e8"},{name:"address",label:"\u05db\u05ea\u05d5\u05d1\u05ea"},{name:"zipCode",label:"\u05de\u05d9\u05e7\u05d5\u05d3"},{name:"departmentHE",label:"\u05de\u05d7\u05dc\u05e7\u05d4"},{name:"departmentEN",label:"Department"},{name:"roleEmergency",label:"\u05ea\u05e4\u05e7\u05d9\u05d3 \u05d7\u05e8\u05d5\u05dd"},{name:"role",label:"\u05ea\u05e4\u05e7\u05d9\u05d3"},{name:"team",label:"\u05ea\u05ea \u05de\u05d7\u05dc\u05e7\u05d4"}].map((function(e,n){return"datePicker"===e.type?r.a.createElement(P,{key:n},r.a.createElement(L.a,{id:e.name,label:e.label,type:"date",defaultValue:o[e.name],onChange:c,className:t.workerInfoField,InputLabelProps:{shrink:!0}})):r.a.createElement(P,{key:n},r.a.createElement(L.a,{type:e.type,required:e.required,defaultValue:o[e.name],className:t.workerInfoField,id:e.name,label:e.label,onChange:c}))}))),r.a.createElement(M,{trainingsList:e.trainingsList,trainings:o.trainings,onTrainingChange:function(e,t){var n=o.trainings.indexOf(e),a=Object(E.a)({},o);a.trainings[n]=t,l(a)},onTrainingAdded:function(e){var t=Object(E.a)({},o);t.trainings.push(e),l(t)},onTrainingDeleted:function(e){var t=Object(E.a)({},o);t.trainings.splice(t.trainings.indexOf(e),1),l(t)}})),r.a.createElement(q.a,null,r.a.createElement(z.a,{onClick:function(){e.onSaveChanges(o)}},"\u05e9\u05de\u05d5\u05e8"),r.a.createElement(z.a,{onClick:u},"\u05d1\u05d8\u05dc")))}var U=n(483),$=Object(u.a)((function(e){return{root:{width:500,"& > * + *":{marginTop:e.spacing(3)},margin:20,direction:"ltr"}}}));function K(e){var t=$();return r.a.createElement("div",{className:t.root},r.a.createElement(U.a,{multiple:!0,id:"tags-standard",onChange:function(t,n){return function(t,n){var a=[];n.forEach((function(e){a.push(e.name)})),e.onTrainingsChanged(a)}(0,n)},options:e.trainingsList,getOptionLabel:function(e){return e.name},renderInput:function(e){return r.a.createElement(L.a,Object.assign({},e,{variant:"standard",label:"\u05d1\u05d7\u05d9\u05e8\u05ea \u05d4\u05d3\u05e8\u05db\u05d5\u05ea"}))}}))}var Q=n(480),X=n(481);function Y(e){return r.a.createElement(X.a,Object.assign({elevation:6,variant:"filled"},e))}var Z=Object(u.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function _(e){var t=Z(),n=r.a.useState(e.open),a=Object(O.a)(n,2),i=a[0],o=(a[1],function(t,n){"clickaway"!==n&&e.handleClose()});return r.a.createElement("div",{className:t.root},r.a.createElement(Q.a,{open:i,autoHideDuration:6e3,onClose:o},r.a.createElement(Y,{onClose:o,severity:e.success?"success":"error"},e.message)))}var ee=Object(u.a)((function(e){return{root:{overflow:"hidden"},addTraining:{float:"right",color:"white",backgroundColor:"#4863f8",margin:"3px"},addWorker:{float:"right",color:"white",backgroundColor:"#4863f8",margin:"3px"}}}));function te(){var e=ee(),t=Object(a.useState)(!1),n=Object(O.a)(t,2),i=n[0],o=n[1],l=Object(a.useState)(!1),c=Object(O.a)(l,2),u=c[0],s=c[1],m=Object(a.useState)(null),d=Object(O.a)(m,2),f=d[0],g=d[1],p=Object(a.useState)(),b=Object(O.a)(p,2),h=b[0],j=b[1],k=Object(a.useState)([]),N=Object(O.a)(k,2),S=N[0],x=N[1],D=Object(a.useState)([]),R=Object(O.a)(D,2),I=R[0],V=R[1],B=Object(a.useState)(!1),H=Object(O.a)(B,2),M=H[0],G=H[1],U=Object(a.useState)([]),$=Object(O.a)(U,2),Q=$[0],X=$[1],Y=Object(a.useState)([]),Z=Object(O.a)(Y,2),te=Z[0],ne=Z[1],ae=Object(a.useState)(!1),re=Object(O.a)(ae,2),ie=re[0],oe=re[1],le=Object(a.useState)(""),ce=Object(O.a)(le,2),ue=ce[0],se=ce[1];Object(a.useEffect)((function(){de(),fe()}),[]),Object(a.useEffect)((function(){ve()}),[Q,S]),Object(a.useEffect)((function(){ve()}),[I]);var me,de=function(){y.a.get("".concat(T,"/api/workers")).then((function(e){X(Object(w.a)(e.data)),G(!0)})).catch((function(e){console.error(e)}))},fe=function(){y.a.get("".concat(T,"/api/trainings")).then((function(e){x(e.data),G(!0)})).catch((function(e){console.error(e)}))},ge=function(e){var t,n=[];(t=e.workerId,y.a.get("".concat(T,"/api/workers/trainings"),{params:{workerId:t}})).then((function(e){n=e.data.trainings})).catch((function(e){return console.error(e)})).then((function(){e.trainings=n,j(e),o(!0)}))},pe=function(){o(!1)},be=function(e){var t;console.log(e),(null===e||void 0===e?void 0:e.workerId)&&(t=e.workerId,y.a.delete("".concat(T,"/api/workers"),{params:{workerId:t}})).then((function(e){de()}))},he=function(e){var t;delete e.tableData,(t=e,y.a.put("".concat(T,"/api/workers"),t)).then((function(e){g(!0)})).catch((function(e){g(!1),console.error(e)})).then((function(){de(),s(!0)})),pe()},ve=function(){var e=[];Q.forEach((function(t){var n=!0;I.forEach((function(e){(function(e,t){var n=!1;return e.trainings.forEach((function(e){e.name==t&&"N/A"!=e.status&&"\u05dc\u05d0 \u05d4\u05e9\u05ea\u05ea\u05e3"!=e.status&&(n=!0)})),n})(t,e)||(n=!1)})),n&&e.push(Object(E.a)({},t))})),ne(e)},Ee=function(){se(""),oe(!1)},we={workerId:"",lastName:"",firstName:""};return M?M?r.a.createElement("div",null,r.a.createElement(P,null,r.a.createElement("div",{className:e.root},r.a.createElement(K,{className:e.selectMenu,trainingsList:S,onTrainingsChanged:function(e){V(e)}}),r.a.createElement(z.a,{className:e.addTraining,onClick:function(){return oe(!0)},variant:"contained"},"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d4\u05d3\u05e8\u05db\u05d4"),r.a.createElement(z.a,{className:e.addWorker,onClick:function(){return ge(we)},variant:"contained"},"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e2\u05d5\u05d1\u05d3"))),r.a.createElement(P,null,r.a.createElement(C.a,{title:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd",columns:[{field:"workerId",title:"\u05de\u05e1\u05e4\u05e8 \u05e2\u05d5\u05d1\u05d3"},{field:"firstName",title:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"},{field:"lastName",title:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"},{field:"birthDate",title:"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4",type:"date"},{field:"age",title:"\u05d2\u05d9\u05dc"},{field:"sex",title:"\u05de\u05d9\u05df"},{field:"startDate",title:"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4"},{field:"idNumber",title:"\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea"},{field:"phoneNumber",title:"\u05d8\u05dc\u05e4\u05d5\u05df"},{field:"phoneNumber2",title:"\u05d8\u05dc\u05e4\u05d5\u05df 2"},{field:"city",title:"\u05e2\u05d9\u05e8"},{field:"address",title:"\u05db\u05ea\u05d5\u05d1\u05ea"},{field:"zipCode",title:"\u05de\u05d9\u05e7\u05d5\u05d3"},{field:"departmentHE",title:"\u05de\u05d7\u05dc\u05e7\u05d4"},{field:"departmentEN",title:"Department"},{field:"roleEmergency",title:"\u05ea\u05e4\u05e7\u05d9\u05d3 \u05d7\u05e8\u05d5\u05dd"},{field:"role",title:"\u05ea\u05e4\u05e7\u05d9\u05d3"},{field:"team",title:"\u05ea\u05ea \u05de\u05d7\u05dc\u05e7\u05d4"}],data:te,dir:"rtl",localization:(me={pagination:{labelDisplayedRows:"{from}-{to} \u05de\u05ea\u05d5\u05da {count}"},toolbar:{nRowsSelected:"{0} \u05e9\u05d5\u05e8\u05d5\u05ea \u05e0\u05d1\u05d7\u05e8\u05d5"},header:{actions:"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea"},body:{emptyDataSourceMessage:"\u05d0\u05d9\u05df \u05e8\u05e9\u05d5\u05de\u05d5\u05ea \u05dc\u05d4\u05e6\u05d2\u05d4",filterRow:{filterTooltip:"\u05e1\u05d9\u05e0\u05d5\u05df"},addTooltip:"\u05d4\u05d5\u05e1\u05e4\u05d4",deleteTooltip:"\u05de\u05d7\u05d9\u05e7\u05d4",editTooltip:"\u05e2\u05e8\u05d9\u05db\u05d4",editRow:{deleteText:"\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 \u05e9\u05d5\u05e8\u05d4 \u05d6\u05d5?",cancelTooltip:"\u05d1\u05d9\u05d8\u05d5\u05dc",saveTooltip:"\u05e9\u05de\u05d5\u05e8"}}},Object(v.a)(me,"pagination",{labelRowsSelect:"\u05e9\u05d5\u05e8\u05d5\u05ea"}),Object(v.a)(me,"toolbar",{searchTooltip:"\u05d7\u05d9\u05e4\u05d5\u05e9",searchPlaceholder:"\u05d7\u05d9\u05e4\u05d5\u05e9"}),me),editable:{onRowDelete:function(e){return new Promise((function(t,n){setTimeout((function(){be(e),t()}),1e3)}))}},actions:[{icon:"info",tooltip:"\u05e4\u05e8\u05d8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd",onClick:function(e,t){ge(t)}}]}),i?r.a.createElement(J,{worker:h,trainingsList:S,open:i,onClose:pe,onSaveChanges:function(e){return he(e)}}):null,u?r.a.createElement(_,{handleClose:function(){s(!1),g(null)},open:u,message:f?"\u05e2\u05d5\u05d1\u05d3 \u05e2\u05d5\u05d3\u05db\u05df \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4":"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d6\u05de\u05df \u05e2\u05d3\u05db\u05d5\u05df \u05d4\u05e2\u05d5\u05d1\u05d3",success:f}):null),r.a.createElement(W.a,{open:ie,onClose:Ee,"aria-labelledby":"form-dialog-title"},r.a.createElement(F.a,{id:"form-dialog-title"},"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d4\u05d3\u05e8\u05db\u05d4"),r.a.createElement(A.a,null,r.a.createElement(L.a,{autoFocus:!0,margin:"dense",id:"name",label:"\u05e9\u05dd \u05d4\u05d3\u05e8\u05db\u05d4",type:"text",fullWidth:!0,onChange:function(e){return se(e.target.value)}})),r.a.createElement(q.a,null,r.a.createElement(z.a,{onClick:Ee,color:"primary"},"\u05d1\u05d9\u05d8\u05d5\u05dc"),r.a.createElement(z.a,{onClick:function(){var e;console.log(ue),(e=ue,y.a.post("".concat(T,"/api/trainings"),{name:e})).then((function(e){console.log(e)})).catch((function(e){console.error(e)})).then((function(){se(""),oe(!1),fe()}))},color:"primary"},"\u05d4\u05d5\u05e1\u05e4\u05d4")))):void 0:r.a.createElement("div",null,"\u05d8\u05d5\u05e2\u05df...")}var ne=n(29),ae=(n(441),Object(l.a)({direction:"rtl",backgroundColor:"#eeeee",typography:{fontFamily:"Segoe UI"}}));var re=function(){return r.a.createElement(c.a,{theme:ae},r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(ne.d,null,r.a.createElement(ne.b,{key:"mainView",path:"/mainView"},r.a.createElement(te,null)),r.a.createElement(ne.a,{from:"*",to:"/mainView"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie=n(246);o.a.render(r.a.createElement(ie.a,null,r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[358,1,2]]]);
//# sourceMappingURL=main.d8ef4a59.chunk.js.map